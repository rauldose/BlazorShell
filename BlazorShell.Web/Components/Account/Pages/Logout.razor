@* @page "/Account/Logout" *@
@using Microsoft.AspNetCore.Identity
@inject SignInManager<BlazorShell.Core.Entities.ApplicationUser> SignInManager
@inject NavigationManager Navigation

<PageTitle>Sign out</PageTitle>

<div class="container">
    <div class="row justify-content-center mt-5">
        <div class="col-md-6">
            <div class="card">
                <div class="card-body text-center">
                    <h4>Sign Out</h4>
                    <p class="text-muted">Are you sure you want to sign out?</p>

                    @* FIX: Simplified logout form without returnUrl *@
                    <form action="/Account/Logout" method="post">
                        <AntiforgeryToken />
                        <button type="submit" class="btn btn-danger">
                            <i class="bi bi-box-arrow-right"></i> Yes, Sign Out
                        </button>
                        <a href="/" class="btn btn-secondary ms-2">Cancel</a>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

@code {
    // FIX: Removed the DoLogout method as the POST endpoint handles it
    // The form now posts directly to the logout endpoint which handles everything
}